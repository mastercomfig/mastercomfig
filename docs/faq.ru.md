---
description: Получите ответы на часто задаваемые вопросы о mastercomfig.
...

# Часто задаваемые вопросы

## Как работает mastercomfig?

Некоторые люди часто поначалу разочаровываются в mastercomfig, поскольку он не работает как традиционный конфиг, и когда вы пытаетесь использовать его как один, вы можете столкнуться с дополнительными проблемами.

Как правило, думайте о mastercomfig как о "слоях", а не о том, что вам нужно редактировать напрямую. Ваш пользовательский уровень состоит из слоя пользовательских модулей, слоя autoexec, слоя переопределений игры и слоя конфигурации класса. Модули перезаписывают уровень модулей mastercomfig/preset. Уровень Autoexec перезаписывает слой mastercomfig/addons. Слой переопределений игры перезаписывает переопределения игры mastercomfig (запускается при присоединении к игре/каждый раз, когда вы меняете класс) и сетевые настройки для каждого класса, для всех классов. Уровень конфигурации класса перезаписывает переопределения игр mastercomfig (конфигурационные элементы класса запускаются после переопределений игры) и сетевые настройки для каждого класса, для одиного класса.

Этот многоуровневый подход означает, что настройки конфигурации более управляемы (то есть большинство вещей делается за вас, при этом вы меняете несколько вещей в зависимости от ваших собственных предпочтений, чтобы настройки не конфликтовали для максимальной стабильности и производительности) и содержит (вы можете легко добавить новую версию mastercomfig, и ваши слои останутся в папке переопределений, поэтому вам не нужно ничего повторно редактировать при изменении версии). Дополнительные сведения смотрите в следующих нескольких вопросах.

При таком подходе вы обнаружите, что больше читаете документацию, чем копаетесь в файлах конфигурации, проверяя, как вы можете что-то сделать или изменить настройку, когда сталкиваетесь с чем-то, что вы хотели бы изменить. Тем не менее, источник GitHub является хорошим справочником по некоторым вещам. Например, вы можете увидеть множество комментариев в главном файле [comfig.cfg](https://github.com/mastercomfig/mastercomfig/blob/release/config/mastercomfig/cfg/comfig/comfig.cfg) для получения информации о настройках в mastercomfig, а также о том, как переопределить отдельные вещи на более тонком уровне, чем с модулями. Но в этом случае будьте осторожны с конфликтами совместимости между различными консольными переменными! Вы можете видеть, какие модули используются [в вашем пресете](https://github.com/mastercomfig/mastercomfig/tree/release/config/cfg/presets) поэтому вы переопределяете только те модули, которые вам нужны.

## Почему mastercomfig использует VPK?

mastercomfig — это не просто файл конфигурации, как старые конфигурации FPS, которые используют только autoexec.cfg.
Это полный мод сценариев производительности и настройки, для работы которого требуется множество пользовательских файлов.

**Вот некоторые из функций, которые получает mastercomfig, будучи модом, а не файлом конфигурации:**

* dxsupport перенастраивается, что открывает `r_drawropes`, `fx_drawimpactdebris`, `fx_drawimpactdust`, `fx_drawimpactspark`, `tf_impactwatertimeenable`, `dsp_off`, `cl_particle_retire_cost` и `mat_slopescaledepthbias_decal`

    * Это позволяет улучшить производительность веревок, частиц, звука и исправить ошибку, из-за которой 1 декаль все еще отображается, даже если декали отключены.

* [Скрипты спавна класса](#Почему-mastercomfig-переопределяет-настройки-моего-класса), которые позволяют периодически запускать сценарии во время матча

* Модульная конструкция, которая позволяет использовать обширную систему переопределения пользователем (модули, дополнения, конфигурации), вместо того, чтобы повторять правки каждый раз, когда обновляется mastercomfig, и не знать, какие изменения вы внесли в базовую конфигурацию.

* `mm_override` скрипт, исправляющий сбои при загрузке соревновательного режима

* Оптимизированная конфигурация предварительной загрузки, которая улучшает использование памяти и время загрузки.

* Нет беспорядочной облачной синхронизации или сохранения конфигурации, которая происходит в папке `cfg`

Сейчас это только объясняет, почему mastercomfig - является модом, который также может быть папкой, а не объясняет, почему mastercomfig - использует VPK.

**mastercomfig - это именно VPK, потому что:**

* Призывает людей использовать модульную систему настройки в mastercomfig, которая не требует ручного вмешательства при каждом обновлении для повтора пользовательских настроек.
* Простое распространение и перетаскивание в пользовательскую папку, рекомендованное Valve:

!!! Цитата
    Самый простой способ распространения мода — упаковать пользовательский контент в файл VPK.
    Чтобы "установить" мод, просто переместите его в эту папку.

[Источник](https://github.com/SteamDatabase/GameTracking-TF2/blob/master/tf/gameinfo.txt)

* Лучшая производительность, как заявляет Valve:

!!! Цитата
    Когда игра загружается, эта папка автоматически сканируется на наличие файлов VPK или
    подпапок. Каждая вложенная папка или VPK добавляется в качестве пути поиска, поэтому файлы
    внутри этих VPK или подпапок переопределяют игровые файлы по умолчанию.
    Подключение VPK к файловой системе более эффективно, чем добавление подпапки.
    так как каждый раз, когда движку нужно открыть файл, ему нужно будет сделать вызов
    операционной системы для поиска папки. Таким образом, поиск VPK может выполняться движком
    намного эффективнее. Каждая вложенная папка - это новый путь поиска, который необходимо проверять каждый раз,
    когда движок пытается открыть файл. Итак, для оптимального времени загрузки всегда используйте файлы VPK.
    и не создавайте в этой папке никаких подпапок!

[Источник](https://github.com/SteamDatabase/GameTracking-TF2/blob/master/tf/custom/readme.txt)

!!! Цитата
    Мы ищем файлы VPK перед обычными папками, потому что большинство файлов будут найдены в
    VPK, и мы можем избежать тысяч вызовов файловой системы, чтобы попытаться открыть файлы
    в папках, где их нет. (Поиск VPK намного быстрее, чем создание  вызовов операционной
    системный.)

[Источник](https://github.com/SteamDatabase/GameTracking-TF2/blob/master/tf/gameinfo.txt)

* Модульная конструкция, позволяющая использовать пользовательские настройки и варианты mastercomfig.

## Почему mastercomfig переопределяет настройки моего класса?

Вы можете легко переместить свои конфиги классов, создав новую папку переопределений рядом с конфигами классов, а затем перетащив их все в эту новую папку переопределений.

В mastercomfig есть конфиги классов из-за ошибки/отсутствующей функции в Team Fortress 2, которая не позволяет запускать `game.cfg` на клиентах при присоединении к игре.

Конфиги классов также являются надежным способом периодического запуска некоторых команд во время матча, что можно использовать для устранения утечек памяти.

**Вместо этого mastercomfig использует конфиги классов для:**

* Псевдонимы сетевых настроек класса (`net_hitscan`, `net_projectiles`, `net_spy`) для настройки
* `overrides/game_overrides.cfg` скрипт глобальных настроек класса
* `game_overrides_once_c` псевдоним для запуска скрипта только один раз за игровую сессию
* Исправление [проблем с сетью](https://github.com/ValveSoftware/Source-1-Games/issues/2618) с бамперными машинками
* Переопределение реквизита детализации карты, расстояния исчезновения воды и режима звукового канала
* Исправлена ​​ошибка, из-за которой звуковой эффект стоп-камеры иногда застревал.
* Очистка всех декалей, в том числе постоянных, недоступных другими командами
* Периодическое исправление ошибок десинхронизации клиента без прерывания демонстраций
* Улучшение времени загрузки после первой загрузки карты
* Исправление случаев, когда моды анимации и моделей могли перестать работать после многих загрузок сервера.
* Исправление проблем, из-за которых моды анимации и моделей могли быть сброшены.

**mastercomfig переопределяет конфиги классов, потому что:**

* Каждый путь в игре может иметь только один связанный с ним файл из-за того, как Source обрабатывает моды.
* Перемещение установки, особенно для тех, кто не хочет возиться с конфигами

## Как я могу получить помощь с mastercomfig?

Проверьте [Руководство по быстрым исправлениям](next_steps/quick_fixes.ru.md) для получения дополнительной информации.
