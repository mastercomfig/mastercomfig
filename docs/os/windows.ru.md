---
description: Узнайте, как оптимизировать ОС Windows для повышения производительности.
...

# Windows

## Включение планирования графического процессора с аппаратным ускорением

Новая функция в Windows 10 Май 2020 Update (версия 2004) - аппаратно ускоренное планирование графического процессора, которое позволяет графическому процессору обрабатывать собственное планирование задач вместо Windows,
тем самым уменьшаются задержки и улучшаются исполнения. Вы можете узнать, как включить его с помощью [этого руководства](https://www.neowin.net/news/how-to-enable-hardware-accelerated-gpu-scheduling-on-windows-10-may-2020-update/).

Если вам интересно, что именно делает эта функция, вы можете прочитать этот [технический блог](https://devblogs.microsoft.com/directx/hardware-accelerated-gpu-scheduling/) от корпорации Майкрософт для получения дополнительных сведений.

При возникновении проблем или снижении производительности этой функции выключите ее и [отправьте отзыв](https://aka.ms/submitgameperformancefeedback).

## Нехватка памяти из-за роста файла страниц

Известно [Microsoft подтвердила](https://docs.microsoft.com/en-us/troubleshoot/windows-client/performance/slow-page-file-growth-memory-allocation-errors) ошибка в Windows заключается в том, что настройка автоматического увеличения размера файла страницы может быть слишком медленной для приложений, которые создают большое давление на память при частом выделении памяти. В таких случаях рекомендуется перейти на [статический размер файла страницы](https://docs.microsoft.com/en-us/troubleshoot/windows-client/performance/slow-page-file-growth-memory-allocation-errors#workaround).

## Используйте высокоэффективный план электропитания

Откройте параметры электропитания и выберите план управления питанием Высокая производительность или план Максимальной производительности, если у вас установлена Windows 10 Pro для рабочих станций. 

Рекомендуется установить минимальное состояние процессора на значение по умолчанию 5 %, а не 100 %, как в высокопроизводительных планах.
Это можно сделать в разделе Параметры питания > Изменить настройки плана > Изменить расширенные настройки питания > Управление питанием процесса > Минимальное состояние процессора.
Это связано с тем, что принудительное включение процессора на 100 % мощности не позволяет ядрам достичь максимального ускорения из-за того, что процессор находится на этом пороговом значении для всех ядер.
Предоставление большего пространства для индивидуального масштабирования мощности процессора для каждого ядра позволяет ОС лучше сбалансировать ограничения мощности по всем ядрам, особенно в случае TF2, которая является преимущественно однопоточной игрой.

## Исправление ошибки производительности Защитника Windows на процессорах Intel

В настоящее время в Защитнике Windows существует ошибка, когда он спамит функцию процессора Intel до тех пор, пока ее не использует другая программа. Это может значительно снизить производительность - до 6 %. Вы можете использовать [Управление счетчиком](https://www.techpowerup.com/download/counter-control/) Кнопка "Сброс" позволяет отметить эту функцию как используемую и остановить спам от Defender. [Подробнее здесь](https://www.pcmag.com/news/intel-cpu-performance-takes-a-big-hit-due-to-windows-defender-bug).

## Отключите режим низкой задержки Nvidia

В движке Source Engine используется метод синхронизации кадров, настроенный на систему потоков материалов.
Ограничивая очередь кадров в драйвере, вы можете вызвать неожиданные задержки в процессе подачи кадров, что может снизить частоту кадров и увеличить задержку ввода.
В связи с этим рекомендуется оставить для Team Fortress 2 значение Low Latency Mode в панели управления Nvidia по умолчанию `Off`.

## Отключите Radeon Chill

Radeon Chill - это энергосберегающая функция, которая вводит переменную крышку кадра. Отключите ее в приложении Radeon Settings:

1. Перейдите на вкладку "Игры".
2. Установите глобальные настройки или только для Team Fortress 2, если вы хотите использовать Chill в других местах.
3. Выключите Chill.

## Отключить оверлеи

Главная идея: отключите как можно больше оверлеев. Они сами по себе прерывают процесс рендеринга, что во многих случаях может сильно повлиять на производительность. Частыми примерами оверлеев являются Discord и Nahimic. Оверлей Steam в значительной степени оптимизирован, но все равно может вызывать проблемы на медленных/старых компьютерах.

### Отключение оверлея Discord

1. Откройте настройки пользователя Discord
2. Перейдите в раздел Настройки активности > Наложение игры
3. Отключите "Включить внутриигровой оверлей".

### Отключите Nahimic

Nahimic это рограммное обеспечение для аудиоэффектов, предварительно установленное на некоторых игровых ноутбуках и настольных компьютерах таких производителей, как Alienware, Dell, MSI и ASUS ROG. Его оверлей особенно неэффективно, что приводит к падению FPS и, как правило, снижению FPS даже при отключении. Это, как известно, трудно удалить, так что вам больше повезет, если отключить драйвер с помощью следующих шагов:

1. Откройте Диспетчер устройств
2. Разверните раздел `Software Components`.
3. Щелкните правой кнопкой мыши и отключите все, что соответствует компоненту `A-Volute Audio Effects`.
4. Открыть службы.
5. Открыть службу Nahimic.
6. Выберите `Startup type:` `Disabled`.

## Отключение ненужных служб

Вы можете использовать [W10Privacy инструмент](https://www.winprivacy.de/deutsch-start/download/) для снижения нагрузки на диск и других рабочих нагрузок, чтобы [повысить производительность](https://www.phoronix.com/scan.php?page=article&item=windows10-w10priv-wsl).

## Масштабирование изображений

И NVIDIA, и AMD используют встроенную технологию масштабирования изображения, которая позволяет уменьшить разрешение рендеринга при очень незначительном снижении качества изображения.
Если вы хотите выжать максимум производительности из своих игр, особенно при разрешении 1400p или 4k, вы можете воспользоваться функцией Image Scaling в панели управления NVIDIA в настройках 3D или Radeon Super Resolution в AMD Software в настройках графики.

## Самообновление панели Intel

Самообновление панели Intel может испортить задержку кадров и тайминги, особенно на гибридных ноутбуках (Optimus). Отключите его в опциях питания в приложении настроек графики Intel.

## Отключение полноэкранной оптимизации

Оптимизация полноэкранного режима - это функция в Windows 10, при которой полноэкранные окна превращаются в низкоуровневые окна без границ, что обеспечивает эквивалентную или лучшую, чем полноэкранная, производительность при быстром переключении alt-tabbing в оконном режиме.

Дополнительную информацию можно найти в [Блоге разработчиков DirectX](https://devblogs.microsoft.com/directx/demystifying-full-screen-optimizations/) и в [этой теме на Reddit](https://old.reddit.com/r/Windows10/comments/645ukf/windows_10_cu_fullscreen_optimizations/dg330ub/?context=3).

При включении этой функции могут возникнуть проблемы с яркостью, частотой обновления или другие проблемы с дисплеем. Если у вас возникли такие проблемы, откройте папку с игрой в Steam. Затем щелкните правой кнопкой мыши на файле `hl2.exe`, выберите пункт "Свойства", перейдите на вкладку "Совместимость" и установите флажок `Отключить полноэкранные оптимизации`.

Если отключение полноэкранных оптимизаций поможет, [сообщите об этом Microsoft](https://aka.ms/fullscreenoptimizationsfeedback), чтобы они могли улучшить его в будущем.

## Оптимизация сети

Используйте [оптимизатор TCP](https://www.speedguide.net/downloads.php) для оптимизации параметров настройки Интернета.

1. Выберите скорость соединения с помощью ползунка вверху.
2. Выберите оптимальную настройку внизу.
3. Нажмите Применить Изменения.

!!! Заметка
    Это не очень подходит для TF2, поскольку его оптимизация в основном направлена на TCP, но у него есть несколько опций для UDP.

## Оптимизация задержки драйверов

Плохо запрограммированные драйверы устройств в режиме ядра могут вызывать проблемы с задержкой, что приводит к таким проблемам, как заикание. Пользователь должен выяснить, какие именно драйверы вызывают задержку.

[Включение прерываний по сигналу сообщения (PCIe MSI)](https://forums.guru3d.com/threads/windows-line-based-vs-message-signaled-based-interrupts-msi-tool.378044/) для всех драйверов - отличный способ снизить задержку DPC, вызванную драйверами (ring0). Если у вас карта NVIDIA, вы можете использовать [NVCleanstall](https://www.techpowerup.com/download/techpowerup-nvcleanstall/) чтобы включить эту функцию, с дополнительным преимуществом - полной настройкой установки драйверов.

Используйте [LatencyMon](https://www.resplendence.com/latencymon) для анализа проблем с задержкой, вызванных драйверами устройств в режиме ядра. Если они сообщают о проблемах, попробуйте обновить драйверы или установить альтернативные драйверы.
